getwd()
setwd("C:/Users/camil/OneDrive/Escritorio/CamiLabo/Practica_4/datos-20231031T140954Z-001/datos/air.mon.mean.nc")
setwd("C:/Users/camil/OneDrive/Escritorio/CamiLabo/Practica_4/")
setwd("C:/Users/camil/OneDrive/Escritorio/Cami_Labo/Practica_4/")
setwd("C:\Users\camil\OneDrive\Escritorio\Cami_Labo\Practica_4\datos-20231031T140954Z-001\datos\air.mon.mean.nc")
setwd("C:/Users/camil/OneDrive/Escritorio/Cami_Labo/Practica_4/datos-20231031T140954Z-001/datos/air.mon.mean.nc")
setwd("C:/Users/camil/OneDrive/Escritorio/Cami_Labo/Practica_4")
getwd()
require(ncdf4)
#Calcular el promedio de temperatura anual (promedio de los 12 meses del
#año) y graficar la serie resultante con lineas y puntos. Además agregar la
#linea de tendencia lineal.
archivo<-"/home/clinux01/Escritorio/CamiLabo/Practica_4/datos-20231031T140954Z-001/datos/air.mon.mean.nc"
nc<-nc_open(archivo)
nc<-nc_open(archivo)
#Calcular el promedio de temperatura anual (promedio de los 12 meses del
#año) y graficar la serie resultante con lineas y puntos. Además agregar la
#linea de tendencia lineal.
archivo<-"C:/Users/camil/OneDrive/Escritorio/Cami_Labo/Practica_4/datos-20231031T140954Z-001/datos/air.mon.mean.nc"
nc<-nc_open(archivo)
nc
temp_aire<- ncvar_get(nc, "air")
latitudes<- ncvar_get(nc, "lat") #prestar atencion en como esta escrito en el archivo
longitudes<- ncvar_get(nc, "lon")
tiempos<- ncvar_get(nc, "time")
head(tiempos) #veo los primeros datos de tiempo para ver com ol estan "configurados"// o son  muy representativos de la fecha
#ver unidades de tiempo<- en este caso es horas
tiempos_legibles<- as.Date(tiempos/24,origin="1800-01-01") #como está en horas lo divido por 24
head(tiempos_legibles)
tail (tiempos_legibles) #miro los ultimos
long<-which(longitudes %in% 360-54)
long<-which(longitudes %in% 360:54)
lat<-which(latitudes== -34)
lat<-which(latitudes== 34)
lat
latitudes
#Quedemosnos unicamente con el punto mas cercano a la estacion OCBA (-34,-58)
long<-which(longitudes %in% 360:58)
lat<-which(latitudes== -35)
library(lubridate)
library(ggplot2)
datos_OCBA<-temp_aire[which(year(tiempos_legibles) %in% 1990:2010)]
head(datos_OCBA)
############################### Ejercicio ##############################
library(metR)
#Calcular el promedio de temperatura anual (promedio de los 12 meses del
#año) y graficar la serie resultante con lineas y puntos. Además agregar la
#linea de tendencia lineal.
#Quedemosnos unicamente con el punto mas cercano a la estacion OCBA
# (-34,-58)
archivo <- "C:/Users/camil/OneDrive/Escritorio/Cami_Labo/Practica_4/datos-20231031T140954Z-001/datos/air.mon.mean.nc" #donde esta el archivo
datos_OCBA<- ReadNetCDF(archivo, vars = "air",
subset = list(lat =-34,
lon = 360-58))
install.packages("PCICt")
datos_OCBA<- ReadNetCDF(archivo, vars = "air",
subset = list(lat =-34,
lon = 360-58))
# Me quedo con el periodo 1990-2010
datos_OCBA_periodo<- datos_OCBA[which(year(datos_OCBA$time) %in% 1990:2010),]
class (datos_OCBA)
attach(datos_OCBA_periodo)
head(datos_OCBA_periodo)
tail(datos_OCBA_periodo)
anios<-1990:2010
View(datos_OCBA_periodo)
promedio<- data.frame(data=na,ncol=2)
promedio<- data.frame(data=NA,ncol=2)
View(promedio)
promedio<- data.frame(data=NA,ncol=2,nrow=10)
View(promedio)
promedio<-c()
promedio<-c()
for(anio in anios){
datos_anio<-mean(datos_OCBA_periodo(which(datos_OCBA_periodo$time==anio)))
promedio<-c(promedio,datos__anio)
}
for(anio in anios){
datos_anio<-mean(datos_OCBA_periodo(which(year(datos_OCBA_periodo$time)==anio)))
promedio<-c(promedio,datos__anio)
}
class (datos_OCBA_periodo) #data.frame
attach(datos_OCBA_periodo)
for(anio in anios){
datos_anio<-mean(datos_OCBA_periodo(which(year(datos_OCBA_periodo$time)==anio)))
promedio<-c(promedio,datos__anio)
}
datos_anio<-mean(datos_OCBA_periodo$air(which(year(datos_OCBA_periodo$time)==anio)))
for(anio in anios){
datos_anio<-mean(datos_OCBA_periodo$air[which(year(datos_OCBA_periodo$time)==anio)], na.rm=T)
promedio<-c(promedio,datos__anio)
}
for(anio in anios){
datos_anio<-mean(datos_OCBA_periodo$air[which(year(datos_OCBA_periodo$time)==anio)], na.rm=T)
promedio<-c(promedio,datos_anio)
}
data_frame_todos<-data.frame(anios,promedio)
colnames(data_frame_todos)<-c("Anio","Temp media anual")
View(data_frame_todos)
promedio_df<-data.frame(anios,promedio)
colnames(promedio_df)<-c("Anio","Temp media anual")
attach(promedio_df)
#Grafico el promedio_df
grafico<-ggplot(data=promedio_df, aes(x=Anio, y=Temp media anual))
colnames(promedio_df)<-c("Anio","Tempmediaanual")
#Grafico el promedio_df
grafico<-ggplot(data=promedio_df, mapping=aes(x=Anio, y=Tempmediaanual))
grafico<-grafico +geom_smooth(method = "lm", se = FALSE)
grafico<-grafico + scale_color_manual(values = c("pink"))
grafico<-grafico +geom_smooth(method = "lm", se = FALSE,es(color = "deeppink")))
grafico<-grafico +geom_smooth(method = "lm", se = FALSE,es(color = "deeppink"))
grafico<-grafico +geom_smooth(method = "lm", se = FALSE,aes(color = "deeppink"))
grafico<-grafico + scale_color_manual(values = c("pink"))
grafico<-grafico + geom_bin_2d(aes(color = Species, shape = Species), size = 3, alpha = 0.8))
grafico<-grafico + geom_bin_2d(aes(color = Species, shape = Species), size = 3, alpha = 0.8)
grafico
grafico<-grafico + geom_bin_2d(aes(color = "pink4", shape = "white"), size = 3, alpha = 0.8)
grafico<-grafico + geom_bin_2d(aes(color = "pink4"), size = 3, alpha = 0.8)
grafico
grafico<-grafico + geom_line() + geom_point()
grafico
#Grafico el promedio_df
grafico<-ggplot(data=promedio_df, mapping=aes(x=Anio, y=Tempmediaanual))
grafico<-grafico +geom_smooth(method = "lm", se = FALSE,aes(color = "deeppink"))
grafico<-grafico + scale_color_manual(values = c("pink"))
grafico<-grafico + geom_line() + geom_point()
grafico
grafico<-grafico + scale_color_manual(values = c("deeppink"))
grafico<-grafico + geom_line(color= "pink") + geom_point(color="pink4")
grafico
